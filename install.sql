CREATE DATABASE lib DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;

USE lib;

CREATE TABLE authors (
  author_id INT(10) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  firstname VARCHAR(30) NOT NULL,
  lastname VARCHAR(30) NOT NULL
  ) ENGINE = InnoDB;

CREATE TABLE books(
  id INT(10) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  title VARCHAR(150) NOT NULL,
  author_id INT(10) NOT NULL,
  `year` INT(4) NOT NULL,
  FOREIGN KEY(author_id) REFERENCES authors(author_id)
  ) ENGINE = InnoDB;
  
SET CHARACTER SET 'utf8';

INSERT INTO authors (firstname, lastname) VALUES ("Александр Сергеевич", "Пушкин"),
("Виктор","Суворов"), ("Константин","Бакшт"), ("Иван","Ефремов"), ("Габриэль", "Гарсиа Маркес"),
("Николай Васильевич", "Гоголь"), ("Чарльз", "Диккенс");

INSERT INTO books (title, author_id, `year`) VALUES 
("Руслан и Людмила", 1, 1820),
("Кавказский пленник", 1, 1821),
("Гавриилиада", 1, 1821),
("Бахчисарайский фонтан", 1, 1822),
("Полтава", 1, 1829),
("Домик в Коломне", 1, 1830),
("Медный всадник", 1, 1833),
("Евгений Онегин", 1, 1832),
("Борис Годунов", 1, 1825),
("Скупой рыцарь", 1, 1830),
("Моцарт и Сальери", 1, 1830),
("Каменный гость", 1, 1830),
("Пир во время чумы", 1, 1830),
("Метель", 1, 1830),
("Дубровский", 1, 1833),
("Пиковая дама", 1, 1834),
("Капитанская дочка", 1, 1836),
("Сказка о попе и о работнике его Балде", 1, 1830),
("Сказка о царе Салтане, о сыне его славном и могучем богатыре кн¤зе Гвидоне Салтановиче и о прекрасной царевне лебеди", 1, 1831),
("Сказка о рыбаке и рыбке", 1, 1833),
("Сказка о мёртвой царевне и семи богатырях", 1, 1833),
("Сказка о золотом петушке", 1, 1834),
("Освободитель", 2, 1981),
("Советская армия: взгляд изнутри", 2, 1982),
("Soviet Military Intelligence", 2, 1984),
("Аквариум", 2, 1985),
("Ледокол", 2, 1989),
("Spetsnaz", 2, 1987),
("День 'М'", 2, 1993),
("Контроль", 2, 1994),
("Последняя республика", 2, 1995),
("Выбор", 2, 1997),
("Очищение", 2, 1998),
("Золотой эшелон", 2, 2000),
("Самоубийство", 2, 2000),
("Тень победы", 2, 2002),
("Беру свои слова обратно", 2, 2005),
("Святое дело", 2, 208),
("Главный виновник: Генеральный план Сталина по развязыванию Второй мировой войны", 2, 2008),
("Разгром", 2, 2010),
("Кузькина мать: Хроника великого десятилетия", 2, 2011),
("Змееед", 2, 2011),
("Против всех", 2, 2013),
("Облом", 2, 2014),
("Как загубить собственный бизнес: вредные советы российским предпринимателям", 3, 2001),
("Построение отдела продаж: с нуля до максимальных результатов", 3, 2005),
("Боевые команды продаж", 3, 2007),
("Туманность Андромеды", 4, 1957),
("Лезвие бритвы", 4, 1963),
("Час Быка", 4, 1968),
("Таис Афинская", 4, 1972),
("Сто лет одиночества", 5, 1967),
("Осень патриарха", 5, 1975),
("Любовь во время холеры", 5, 1985),
("Другая сторона смерти", 5, 1948),
("Полковнику никто не пишет", 5, 1957),
("Очень старый человек с огромными крыльями", 5, 1968),
("Невероятная и печальная история о простодушной Эрендире и её бессердечной бабушке", 5, 1972),
("Хроника объявленной смерти", 5, 1981),
("Трамонтана", 5, 1992),
("Сообщение о похищении", 5, 1996),
("Вспоминая моих грустных шлюх", 5, 2004),
("Мёртвые души", 6, 1842),
("Ревизор", 6, 1842),
("Женитьба", 6, 1835),
("Вечера на хуторе близ Диканьки", 6, 1832),
("Миргород", 6, 1835),
("Петербургские повести", 6, 1849),
("Посмертные записки Пиквикского клуба", 7, 1837),
("Приключения Оливера Твиста", 7, 1839),
("Николас Никльби", 7, 1839),
("Рождественские повести", 7, 1848),
("Дэвид Копперфильд", 7, 1850),
("Холодный дом", 7, 1853),
("Крошка Доррит", 7, 1857),
("Повесть о двух городах", 7, 1859),
("Большие надежды", 7, 1861),
("Наш общий друг", 7, 1865),
("Тайна Эдвина Друда", 7, 1870);